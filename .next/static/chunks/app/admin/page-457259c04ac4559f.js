(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4034:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>W});var l=t(5155),a=t(2115);let i=(0,t(3171).UU)("https://qwumsqzcfjurbwrjxuoe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF3dW1zcXpjZmp1cmJ3cmp4dW9lIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0MTk5NDUsImV4cCI6MjA3MTk5NTk0NX0.VBCVSqyZvY9HnC-Gi0TJQDsiQna6QRZxaej4rNDGRRc");function r(e){let{messagesCount:s}=e,[t,r]=(0,a.useState)(0),[n,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{!async function(){try{c(!0);let{data:e,error:s,count:t}=await i.from("projects").select("*",{count:"exact"});if(s)throw s;r(t||(null==e?void 0:e.length)||0)}catch(e){console.error("Error fetching projects:",e),r(0)}finally{c(!1)}}()},[]),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow border-l-4 border-blue-500",children:[(0,l.jsx)("h2",{className:"text-gray-500 text-sm",children:"All Projects"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-blue-500",children:n?"...":t})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow border-l-4 border-blue-500",children:[(0,l.jsx)("h2",{className:"text-gray-500 text-sm",children:"Messages"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-blue-500",children:s})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow border-l-4 border-blue-500",children:[(0,l.jsx)("h2",{className:"text-gray-500 text-sm",children:"Profile Views"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-blue-500",children:"5,430"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4 text-blue-500",children:"Recent Activity"}),(0,l.jsxs)("ul",{className:"space-y-2",children:[(0,l.jsxs)("li",{className:"flex justify-between border-b pb-2",children:[(0,l.jsx)("span",{children:"Added new project 'Portfolio Redesign'"}),(0,l.jsx)("span",{className:"text-gray-500 text-sm",children:"2 days ago"})]}),(0,l.jsxs)("li",{className:"flex justify-between border-b pb-2",children:[(0,l.jsx)("span",{children:"Received message from John Doe"}),(0,l.jsx)("span",{className:"text-gray-500 text-sm",children:"4 days ago"})]}),(0,l.jsxs)("li",{className:"flex justify-between border-b pb-2",children:[(0,l.jsx)("span",{children:"Updated profile"}),(0,l.jsx)("span",{className:"text-gray-500 text-sm",children:"1 week ago"})]})]})]})]})}var n=t(4416),c=t(9869),d=t(7213),o=t(9963),x=t(2525),m=t(4616),h=t(1243),u=t(6766);let p=e=>{let{project:s,onDelete:t,onTogglePin:a,onEdit:i,onSaveEdit:r,onCancelEdit:m,editingId:h,editFormData:p,onEditInputChange:g,onEditImageSelect:j,editImagePreview:b,onRemoveEditImage:f,pinningId:N,deletingId:y,editing:v}=e;return h===s.id?(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500",children:[(0,l.jsxs)("div",{className:"mb-4",children:[b?(0,l.jsxs)("div",{className:"relative mb-3",children:[(0,l.jsx)(u.default,{src:b,alt:"Preview",width:400,height:200,className:"w-full h-48 object-cover rounded-lg border"}),(0,l.jsx)("button",{type:"button",onClick:f,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,l.jsx)(n.A,{size:16})})]}):(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>{var e;return null==(e=document.getElementById("editImageUpload-".concat(s.id)))?void 0:e.click()},children:[(0,l.jsx)(c.A,{className:"mx-auto h-6 w-6 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload image"})]}),(0,l.jsx)("input",{id:"editImageUpload-".concat(s.id),type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("input",{type:"text",name:"title",value:p.title,onChange:g,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Project title"}),(0,l.jsx)("textarea",{name:"description",value:p.description,onChange:g,rows:3,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Project description"}),(0,l.jsx)("input",{type:"url",name:"demoLink",value:p.demoLink,onChange:g,className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Demo link"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",name:"pinned",checked:p.pinned,onChange:g,className:"w-4 h-4 text-blue-500 rounded focus:ring-blue-500"}),(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Pin project"})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,l.jsx)("button",{onClick:()=>r(s.id),disabled:v,className:"flex-1 bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-1",children:v?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("span",{children:"Save"})})}),(0,l.jsx)("button",{onClick:m,disabled:v,className:"flex-1 bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"})]})]}):(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500 hover:shadow-md transition-shadow",children:[s.image?(0,l.jsx)("div",{className:"relative w-full h-48 mb-4",children:(0,l.jsx)(u.default,{src:s.image,alt:s.title,fill:!0,className:"object-cover rounded-lg"})}):(0,l.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:(0,l.jsx)(d.A,{className:"text-gray-400",size:48})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:s.title}),(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("button",{onClick:()=>a(s.id,s.pinned),disabled:N===s.id,className:"p-2 rounded-full transition-colors ".concat(s.pinned?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"),title:s.pinned?"Unpin project":"Pin project",children:N===s.id?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):(0,l.jsx)(o.A,{size:16,fill:s.pinned?"currentColor":"none"})}),(0,l.jsx)("button",{onClick:()=>i(s),className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Edit project",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),(0,l.jsx)("button",{onClick:e=>t(s.id,s.title,e),disabled:y===s.id,className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors disabled:opacity-50",title:"Delete project",children:y===s.id?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):(0,l.jsx)(x.A,{size:16})})]})]}),(0,l.jsx)("p",{className:"text-gray-600 text-sm line-clamp-3",children:s.description}),s.demoLink&&(0,l.jsxs)("a",{href:s.demoLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-blue-500 hover:text-blue-600 transition-colors text-sm",children:[(0,l.jsx)("span",{children:"View Demo"}),(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,l.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,l.jsx)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Created: ",new Date(s.createdAt).toLocaleDateString()]}),s.pinned&&(0,l.jsxs)("span",{className:"flex items-center space-x-1 text-yellow-600",children:[(0,l.jsx)(o.A,{size:12,fill:"currentColor"}),(0,l.jsx)("span",{children:"Pinned"})]})]})]})]})};function g(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[r,g]=(0,a.useState)(!1),[j,b]=(0,a.useState)({title:"",description:"",demoLink:"",pinned:!1}),[f,N]=(0,a.useState)(null),[y,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[C,A]=(0,a.useState)(0),[P,E]=(0,a.useState)(null),[S,z]=(0,a.useState)({title:"",description:"",demoLink:"",pinned:!1}),[T,I]=(0,a.useState)(null),[L,D]=(0,a.useState)(null),[M,F]=(0,a.useState)(!1),[J,U]=(0,a.useState)(!1),[R,O]=(0,a.useState)(null),[B,G]=(0,a.useState)(null),[W,V]=(0,a.useState)(null),_=async()=>{try{i(!0);let e=await fetch("/api/projects"),t=await e.json();t.success?s(t.projects):console.error("Error fetching projects:",t.error)}catch(e){console.error("Error fetching projects:",e)}finally{i(!1)}};(0,a.useEffect)(()=>{_()},[]);let q=e=>{let{name:s,value:t,type:l}=e.target;b({...j,[s]:"checkbox"===l?e.target.checked:t})},H=e=>{let{name:s,value:t,type:l}=e.target;z({...S,[s]:"checkbox"===l?e.target.checked:t})},Z=e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t){if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, etc.)");if(t.size>5242880)return void alert("Please select an image smaller than 5MB");I(t);let e=new FileReader;e.onload=e=>{var s;D(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(t)}},X=()=>{I(null),D(null);let e=document.getElementById("editImageUpload-".concat(P));e&&(e.value="")},Q=async e=>{let s=new FormData;s.append("file",e);let t=await fetch("/api/upload",{method:"POST",body:s}),l=await t.json();if(!l.success)throw Error(l.error);return l.publicUrl},Y=async t=>{t.preventDefault(),k(!0),A(0);try{let t="";if(f&&(A(50),t=await Q(f),A(100)),j.pinned&&e.filter(e=>e.pinned).length>=6)return void alert("Maximum of 6 projects can be pinned. Please unpin some projects first.");let l=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:j.title,description:j.description,demoLink:j.demoLink,imageUrl:t,pinned:j.pinned})}),a=await l.json();a.success?(s(e=>[a.project,...e]),b({title:"",description:"",demoLink:"",pinned:!1}),N(null),v(null),g(!1),A(0),_()):alert("Error creating project: ".concat(a.error))}catch(e){console.error("Error creating project:",e),alert("Error creating project. Please try again.")}finally{k(!1),A(0)}},K=e=>{E(e.id),z({title:e.title,description:e.description,demoLink:e.demoLink,pinned:e.pinned}),D(e.image||null),I(null)},$=()=>{E(null),z({title:"",description:"",demoLink:"",pinned:!1}),D(null),I(null)},ee=async t=>{F(!0);try{let l;T?l=await Q(T):null===L&&(l=null);let a=e.find(e=>e.id===t);if(S.pinned&&!(null==a?void 0:a.pinned)&&e.filter(e=>e.pinned).length>=6)return void alert("Maximum of 6 projects can be pinned. Please unpin some projects first.");let i={id:t,title:S.title,description:S.description,demoLink:S.demoLink,pinned:S.pinned};void 0!==l&&(i.imageUrl=l);let r=await fetch("/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),n=await r.json();n.success?(s(e=>e.map(e=>e.id===t?{...e,...n.project}:e)),E(null),alert("Project updated successfully!"),_()):alert("Error updating project: ".concat(n.error))}catch(e){console.error("Error updating project:",e),alert("Error updating project. Please try again.")}finally{F(!1)}},es=async(e,t)=>{if(P!==e){V(e);try{let l=await fetch("/api/projects",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,pinned:!t})}),a=await l.json();a.success?(s(s=>s.map(s=>s.id===e?{...s,pinned:!t}:s)),setTimeout(()=>{_()},100)):alert("Error updating project: ".concat(a.error))}catch(e){console.error("Error toggling pin:",e),alert("Error updating project. Please try again.")}finally{V(null)}}},et=(e,s,t)=>{P!==e&&(t.stopPropagation(),O({id:e,title:s}),U(!0))},el=async()=>{if(R){G(R.id);try{let e=await fetch("/api/projects?id=".concat(R.id),{method:"DELETE"}),t=await e.json();t.success?(s(e=>e.filter(e=>e.id!==R.id)),P===R.id&&$()):alert("Error deleting project: ".concat(t.error))}catch(e){console.error("Error deleting project:",e),alert("Error deleting project. Please try again.")}finally{G(null),U(!1),O(null)}}},ea=()=>{U(!1),O(null),G(null)},ei=e.filter(e=>e.pinned),er=e.filter(e=>!e.pinned);return t?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex justify-between items-center",children:(0,l.jsx)("h2",{className:"text-2xl font-semibold text-blue-500",children:"Projects"})}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500 animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]},e))})]}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h2",{className:"text-md lg:text-2xl font-semibold text-blue-500",children:["All Projects (",e.length,")"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"text-sm hidden lg:block text-gray-600",children:[ei.length,"/6 projects pinned"]}),(0,l.jsxs)("button",{onClick:()=>g(!r),disabled:null!==P,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:[(0,l.jsx)(m.A,{size:20}),(0,l.jsx)("span",{children:r?"Cancel":"Add Project"})]})]})]}),r&&(0,l.jsxs)("div",{className:"bg-white rounded-xl lg:shadow p-0 lg:p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4 text-blue-500",children:"Add New Project"}),(0,l.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[y?(0,l.jsxs)("div",{className:"relative mb-3",children:[(0,l.jsx)(u.default,{src:y,alt:"Preview",width:400,height:200,className:"w-full h-48 object-cover rounded-lg border"}),(0,l.jsx)("button",{type:"button",onClick:()=>{N(null),v(null);let e=document.getElementById("imageUpload");e&&(e.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,l.jsx)(n.A,{size:16})})]}):(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>{var e;return null==(e=document.getElementById("imageUpload"))?void 0:e.click()},children:[(0,l.jsx)(c.A,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload an image"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]}),(0,l.jsx)("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:e=>{var s;let t=null==(s=e.target.files)?void 0:s[0];if(t){if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, etc.)");if(t.size>5242880)return void alert("Please select an image smaller than 5MB");N(t);let e=new FileReader;e.onload=e=>{var s;v(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(t)}},className:"hidden"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),(0,l.jsx)("input",{type:"text",name:"title",value:j.title,onChange:q,required:!0,className:"w-full p-2 lg:p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,l.jsx)("textarea",{name:"description",value:j.description,onChange:q,required:!0,rows:4,className:"w-full p-2 lg:p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project description"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demo Link"}),(0,l.jsx)("input",{type:"url",name:"demoLink",value:j.demoLink,onChange:q,required:!0,className:"w-full p-2 lg:p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",name:"pinned",checked:j.pinned,onChange:q,disabled:ei.length>=6&&!j.pinned,className:"w-4 h-4 text-blue-500 rounded focus:ring-blue-500"}),(0,l.jsxs)("label",{className:"text-sm font-medium text-gray-700",children:["Pin this project to top"," ",ei.length>=6&&"(Max 6 reached)"]})]}),C>0&&(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(C,"%")}})}),(0,l.jsx)("button",{type:"submit",disabled:w,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 flex items-center space-x-2",children:w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,l.jsx)("span",{children:C>0?"Uploading...":"Adding..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.A,{size:16}),(0,l.jsx)("span",{children:"Add Project"})]})})]})]}),ei.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-blue-500 flex items-center",children:[(0,l.jsx)(o.A,{size:20,className:"mr-2"}),"Pinned Projects (",ei.length,"/6)"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ei.map(e=>(0,l.jsx)(p,{project:e,onDelete:et,onTogglePin:es,onEdit:K,onSaveEdit:ee,onCancelEdit:$,editingId:P,editFormData:S,onEditInputChange:H,onEditImageSelect:Z,editImagePreview:L,onRemoveEditImage:X,pinningId:W,deletingId:B,editing:M},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-blue-500",children:["All Projects (",er.length,")"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===e.length?(0,l.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,l.jsx)("div",{className:"text-gray-400 mb-4",children:(0,l.jsx)(d.A,{size:48,className:"mx-auto"})}),(0,l.jsx)("p",{className:"text-gray-500 text-lg",children:"No projects yet"}),(0,l.jsx)("p",{className:"text-gray-400",children:"Click 'Add Project' to create your first project"})]}):er.map(e=>(0,l.jsx)(p,{project:e,onDelete:et,onTogglePin:es,onEdit:K,onSaveEdit:ee,onCancelEdit:$,editingId:P,editFormData:S,onEditInputChange:H,onEditImageSelect:Z,editImagePreview:L,onRemoveEditImage:X,pinningId:W,deletingId:B,editing:M},e.id))})]}),J&&R&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-xs flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-scale-in",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.A,{className:"text-red-500",size:24}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Project"})]}),(0,l.jsx)("button",{onClick:ea,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,l.jsx)(n.A,{size:20})})]}),(0,l.jsxs)("p",{className:"text-gray-600 mb-1",children:["Are you sure you want to delete the project"," ",(0,l.jsxs)("strong",{children:["'",R.title,"'"]}),"?"]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"This action cannot be undone. The project will be permanently removed."}),(0,l.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,l.jsx)("button",{onClick:ea,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:"Cancel"}),(0,l.jsxs)("button",{onClick:el,disabled:B===R.id,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center space-x-2 disabled:opacity-50",children:[B===R.id?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,l.jsx)(x.A,{size:16}),(0,l.jsx)("span",{children:"Delete Project"})]})]})]})})]})}var j=t(7340),b=t(741),f=t(7576),N=t(1497),y=t(381),v=t(4783);let w=[{name:"home",label:"Home",icon:(0,l.jsx)(j.A,{size:20})},{name:"dashboard",label:"Dashboard",icon:(0,l.jsx)(b.A,{size:20})},{name:"projects",label:"Projects",icon:(0,l.jsx)(f.A,{size:20})},{name:"messages",label:"Messages",icon:(0,l.jsx)(N.A,{size:20})},{name:"settings",label:"Settings",icon:(0,l.jsx)(y.A,{size:20})}];function k(e){let{sidebarOpen:s,activePage:t,onToggleSidebar:a,onPageChange:i}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"md:hidden fixed top-5 scale-110 left-4 z-80",children:(0,l.jsx)("button",{onClick:a,className:"p-2 rounded ".concat(""," text-black"),children:s?"":(0,l.jsx)(v.A,{size:24})})}),(0,l.jsxs)("div",{className:"\n          fixed top-0 left-0 h-full bg-blue-600 text-white z-60\n          transform transition-transform duration-300 ease-in-out\n          ".concat(s?"translate-x-0":"-translate-x-full","\n          w-64\n          md:static md:translate-x-0 md:w-64\n        "),onClick:()=>a(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-blue-500",children:[(0,l.jsx)("span",{className:"font-bold text-lg whitespace-nowrap",children:"Admin"}),(0,l.jsx)("button",{onClick:a,className:"p-1 hover:bg-blue-500 rounded md:hidden",children:(0,l.jsx)(n.A,{size:20})})]}),(0,l.jsx)("nav",{className:"flex-1 p-2",children:(0,l.jsx)("ul",{className:"space-y-2",children:w.map(e=>(0,l.jsx)("li",{className:"list-none",children:(0,l.jsxs)("button",{onClick:()=>i(e.name),className:"w-full flex items-center space-x-3 p-3 rounded cursor-pointer hover:bg-blue-500 transition-colors ".concat(t===e.name?"bg-blue-700":""),children:[(0,l.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,l.jsx)("span",{className:"whitespace-nowrap",children:e.label})]})},e.name))})})]}),s&&(0,l.jsx)("div",{onClick:a,className:"fixed inset-0 bg-white/20 backdrop-blur-xs bg-opacity-20 z-[55] md:hidden"})]})}var C=t(7550),A=t(4032),P=t(1007),E=t(1264),S=t(9074),z=t(7863),T=t(6474),I=t(4869),L=t(6767),D=t(5868),M=t(1366),F=t(9420),J=t(3904);function U(e){let{messages:s,loadingMessages:t,refreshingMessages:i,selectedMessage:r,onRefreshMessages:c,onMessageClick:d,onBackToList:o,onDeleteMessage:m}=e,[u,p]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null),[b,f]=(0,a.useState)(!1),[N,y]=(0,a.useState)(null),v=e=>new Date(e).toLocaleString(),w=e=>{let s=e.indexOf("Message:");return -1!==s?e.substring(s+8).trim():e},k=(e,s,t)=>{t.stopPropagation(),y({id:e,from:s}),f(!0)},U=async()=>{if(N){j(N.id),f(!1);try{await m(N.id)}finally{j(null),y(null)}}},R=()=>{f(!1),y(null)};if(t)return(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-8 text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading messages..."})]});if(r){let e=w(r.message),s=(e=>{let s={},t=e.match(/Project Type:\s*(.+)/);t&&(s.projectType=t[1]);let l=e.match(/Website Type:\s*(.+)/);l&&(s.websiteType=l[1]);let a=e.match(/App Type:\s*(.+)/);a&&(s.appType=a[1]);let i=e.match(/Budget:\s*(.+)/);i&&(s.budget=i[1]);let r=e.match(/Contact Preference:\s*(.+)/);r&&(s.contactPreference=r[1]);let n=e.match(/WhatsApp Number:\s*(.+)/);n&&(s.whatsappNumber=n[1]);let c=e.match(/Phone Number:\s*(.+)/);c&&(s.phoneNumber=c[1]);let d=e.match(/How they found you:\s*(.+)/);return d&&(s.howMet=d[1]),s})(r.message),t=Object.keys(s).length>0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow",children:[(0,l.jsxs)("div",{className:"border-b p-4 flex items-center justify-between",children:[(0,l.jsxs)("button",{onClick:o,className:"flex items-center space-x-2 text-blue-500 hover:text-blue-800",children:[(0,l.jsx)(C.A,{size:20}),(0,l.jsx)("span",{children:"Back to messages"})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{className:"p-2 text-gray-500 hover:text-blue-500",children:(0,l.jsx)(A.A,{size:20})}),(0,l.jsx)("button",{onClick:e=>k(r.id,r.from,e),disabled:g===r.id,className:"p-2 text-gray-500 hover:text-red-600 disabled:opacity-50",children:g===r.id?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):(0,l.jsx)(x.A,{size:20})})]})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.subject}),(0,l.jsxs)("div",{className:"flex  items-center space-x-4 text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(P.A,{size:16}),(0,l.jsx)("span",{className:"font-medium",children:r.from})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(E.A,{size:16}),(0,l.jsx)("span",{children:r.email})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(S.A,{size:16}),(0,l.jsx)("span",{children:v(r.date)})]})]})]}),e&&(0,l.jsx)("div",{className:"border-t pt-6",children:(0,l.jsx)("p",{className:"whitespace-pre-line leading-relaxed bg-gray-50 h-auto rounded-xl p-5",children:e})}),t&&(0,l.jsxs)("div",{className:"pt-6",children:[(0,l.jsxs)("button",{onClick:()=>p(!u),className:"flex items-center space-x-2 text-blue-500 hover:text-blue-800 mb-3",children:[u?(0,l.jsx)(z.A,{size:20}):(0,l.jsx)(T.A,{size:20}),(0,l.jsx)("span",{children:(0,l.jsx)("h4",{className:"font-semibold text-lg cursor-pointer text-blue-500",children:"Project Details"})})]}),u&&(0,l.jsx)("div",{className:"pt-1",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-blue-50 rounded-lg p-4",children:[s.projectType&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(I.A,{size:18,className:"text-blue-500"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Project Type"}),(0,l.jsx)("p",{className:"font-semibold",children:s.projectType})]})]}),s.websiteType&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(I.A,{size:18,className:"text-green-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Website Type"}),(0,l.jsx)("p",{className:"font-semibold",children:s.websiteType})]})]}),s.appType&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(L.A,{size:18,className:"text-purple-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"App Type"}),(0,l.jsx)("p",{className:"font-semibold",children:s.appType})]})]}),s.budget&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(D.A,{size:18,className:"text-green-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Budget"}),(0,l.jsx)("p",{className:"font-semibold",children:s.budget})]})]}),s.contactPreference&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(M.A,{size:18,className:"text-orange-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Contact Preference"}),(0,l.jsx)("p",{className:"font-semibold",children:s.contactPreference})]})]}),s.whatsappNumber&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(M.A,{size:18,className:"text-green-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"WhatsApp"}),(0,l.jsx)("p",{className:"font-semibold",children:s.whatsappNumber})]})]}),s.phoneNumber&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(F.A,{size:18,className:"text-blue-500"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Phone"}),(0,l.jsx)("p",{className:"font-semibold",children:s.phoneNumber})]})]}),s.howMet&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(P.A,{size:18,className:"text-purple-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Found Via"}),(0,l.jsx)("p",{className:"font-semibold",children:s.howMet})]})]})]})})]}),(0,l.jsxs)("div",{className:"pt-6",children:[(0,l.jsxs)("h4",{className:"font-semibold mb-3",children:["Reply to ",r.from]}),(0,l.jsx)("textarea",{className:"w-full h-32 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your reply here..."}),(0,l.jsx)("button",{className:"mt-3 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Send Reply"})]})]})]})}),b&&N&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-xs bg-opacity-30 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-scale-in",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.A,{className:"text-red-500",size:24}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Message"})]}),(0,l.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,l.jsx)(n.A,{size:20})})]}),(0,l.jsxs)("p",{className:"text-gray-600 mb-1",children:["Are you sure you want to delete this message from"," ",(0,l.jsx)("strong",{children:N.from}),"?"]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"This action cannot be undone. The message will be permanently removed from the database."}),(0,l.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,l.jsx)("button",{onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:"Cancel"}),(0,l.jsxs)("button",{onClick:U,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center space-x-2",children:[(0,l.jsx)(x.A,{size:16}),(0,l.jsx)("span",{children:"Delete Message"})]})]})]})})]})}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-blue-500",children:"Messages"}),(0,l.jsxs)("button",{onClick:c,disabled:i,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors disabled:opacity-50",children:[(0,l.jsx)(J.A,{size:16,className:i?"animate-spin":""}),(0,l.jsx)("span",{children:"Refresh"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow",children:[(0,l.jsx)("div",{className:"p-4 border-b",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("span",{className:"text-gray-600",children:[s.filter(e=>!e.read).length," unread messages"]}),(0,l.jsxs)("span",{className:"text-gray-600",children:["Total: ",s.length," messages"]})]})}),(0,l.jsx)("div",{className:"divide-y",children:0===s.length?(0,l.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,l.jsx)(E.A,{size:48,className:"mx-auto mb-4 text-gray-300"}),(0,l.jsx)("p",{children:"No messages yet"}),(0,l.jsx)("p",{className:"text-sm mt-2",children:"Messages from your contact form will appear here"})]}):s.map(e=>{let s=w(e.message);return(0,l.jsxs)("div",{onClick:()=>d(e),className:"p-4 cursor-pointer hover:bg-blue-50 transition-colors ".concat(e.read?"":"bg-blue-25 border-l-4 border-blue-500"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[e.read?(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-gray-400/50"}):(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold ".concat(e.read?"text-gray-900":"text-blue-900"),children:e.from}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:e.email})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)("span",{className:"text-gray-500 text-sm",children:v(e.date)})})]}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:s||"Contact form submission"}),(0,l.jsx)("div",{className:"mt-3 flex justify-end",children:(0,l.jsx)("button",{onClick:s=>k(e.id,e.from,s),disabled:g===e.id,className:"text-red-600 hover:text-red-800 text-sm flex items-center space-x-1 disabled:opacity-50",children:g===e.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}),(0,l.jsx)("span",{children:"Deleting..."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.A,{size:14}),(0,l.jsx)("span",{children:"Delete"})]})})})]},e.id)})})]})]}),b&&N&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-xs bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-scale-in",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(h.A,{className:"text-red-500",size:24}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Message"})]}),(0,l.jsx)("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,l.jsx)(n.A,{size:20})})]}),(0,l.jsxs)("p",{className:"text-gray-600 mb-1",children:["Are you sure you want to delete this message from"," ",(0,l.jsx)("strong",{children:N.from}),"?"]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"This action cannot be undone. The message will be permanently removed from the database."}),(0,l.jsxs)("div",{className:"flex space-x-3 justify-end",children:[(0,l.jsx)("button",{onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:"Cancel"}),(0,l.jsxs)("button",{onClick:U,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center space-x-2",children:[(0,l.jsx)(x.A,{size:16}),(0,l.jsx)("span",{children:"Delete Message"})]})]})]})})]})}function R(e){let{waitlist:s,onDelete:t}=e;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Waitlist"}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow",children:[(0,l.jsx)("div",{className:"p-4 border-b",children:(0,l.jsx)("h3",{className:"font-semibold",children:"Waitlist Entries"})}),(0,l.jsx)("div",{className:"divide-y",children:s.map(e=>(0,l.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.email}),(0,l.jsxs)("p",{className:"text-gray-500 text-sm",children:["Joined: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,l.jsx)("button",{onClick:()=>t(e.id),className:"text-red-600 hover:text-red-800 p-2",children:(0,l.jsx)(x.A,{size:16})})]},e.id))})]})]})}function O(){return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-700",children:"Settings"}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-6",children:[(0,l.jsx)("h3",{className:"font-semibold mb-4",children:"General Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Name"}),(0,l.jsx)("input",{type:"text",className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),(0,l.jsx)("button",{className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 transition-colors",children:"Save Changes"})]})]})]})}let B=()=>((0,a.useEffect)(()=>{window.location.href="/"}),(0,l.jsx)("div",{}));function G(e){let{onLogout:s}=e,[t,i]=(0,a.useState)(!0),[n,c]=(0,a.useState)("dashboard"),[d,o]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[h,u]=(0,a.useState)(null),[p,j]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?f(!0):j(!0);try{let e=await fetch("/api/messages"),s=await e.json();s.success?m(s.messages):(console.error("Error fetching messages:",s.error),m([]))}catch(e){console.error("Error fetching messages:",e),m([])}finally{j(!1),f(!1)}};(0,a.useEffect)(()=>{"waitlist"===n&&fetch("/api/waitlist").then(e=>e.json()).then(e=>o(e)).catch(e=>console.error("Error fetching waitlist:",e))},[n]),(0,a.useEffect)(()=>{"messages"===n&&N()},[n]);let y=async e=>{try{await fetch("/api/waitlist",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),o(s=>s.filter(s=>s.id!==e))}catch(e){console.error("Error deleting waitlist entry:",e)}},v=async e=>{try{let s=await fetch("/api/messages",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}),t=await s.json();t.success?(m(s=>s.filter(s=>s.id!==e)),(null==h?void 0:h.id)===e&&u(null)):alert("Failed to delete message: ".concat(t.error))}catch(e){console.error("Error deleting message:",e),alert("Network error. Please try again.")}},w=async e=>{if(u(e),!e.read){m(s=>s.map(s=>s.id===e.id?{...s,read:!0}:s));try{await fetch("/api/messages",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,read:!0})})}catch(e){console.error("Error updating message read status:",e)}}},C=()=>{u(null)},A=()=>{N(!0)};return(0,l.jsxs)("div",{className:"flex h-screen w-full",children:[(0,l.jsx)(k,{sidebarOpen:t,activePage:n,onToggleSidebar:()=>i(!t),onPageChange:e=>{console.log("Setting active page to:",e),c(e),"messages"!==e&&u(null)}}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,l.jsxs)("header",{className:"shadow p-4 flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold opacity-0 lg:opacity-100 capitalize text-blue-500",children:n.replace(/-/g," ")}),(0,l.jsx)("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-800 transition-colors",children:"Logout"})]}),(0,l.jsx)("main",{className:"p-2 lg:p-6 space-y-6 overflow-y-auto flex-1",children:(()=>{switch(n){case"home":return(0,l.jsx)(B,{});case"dashboard":default:return(0,l.jsx)(r,{messagesCount:x.length});case"projects":return(0,l.jsx)(g,{});case"messages":return(0,l.jsx)(U,{messages:x,loadingMessages:p,refreshingMessages:b,selectedMessage:h,onRefreshMessages:A,onMessageClick:w,onBackToList:C,onDeleteMessage:v});case"waitlist":return(0,l.jsx)(R,{waitlist:d,onDelete:y});case"settings":return(0,l.jsx)(O,{})}})()})]})]})}function W(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[c,d]=(0,a.useState)("");return((0,a.useEffect)(()=>{"true"===localStorage.getItem("isAdmin")&&s(!0)},[]),e)?(0,l.jsx)(G,{onLogout:()=>{localStorage.removeItem("isAdmin"),s(!1)}}):(0,l.jsxs)("div",{className:"flex h-screen items-center justify-center z-60 lg:bg-gray-100  relative",children:[(0,l.jsxs)("div",{className:"bg-white p-8 rounded-xl lg:shadow-xl lg:w-[40%]",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-700",children:"Admin Login"}),(0,l.jsx)("input",{type:"text",placeholder:"Username",value:t,onChange:e=>i(e.target.value),className:"w-full p-3 border rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>n(e.target.value),className:"w-full p-3 border rounded mb-6 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("button",{onClick:()=>{"boya1one"===t&&"d5i8v6i4n1e90"===r?(localStorage.setItem("isAdmin","true"),s(!0),d("")):d("Invalid username or password ❌")},className:"w-full bg-blue-700 text-white py-3 rounded hover:bg-blue-800 transition-colors",children:"Login"})]}),c&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center backdrop-blur-xs bg-black/50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-80 text-center",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"Login Failed"}),(0,l.jsx)("p",{className:"text-gray-700 mb-6",children:c}),(0,l.jsx)("button",{onClick:()=>d(""),className:"bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800 transition-colors",children:"Close"})]})})]})}},7481:(e,s,t)=>{Promise.resolve().then(t.bind(t,4034))}},e=>{var s=s=>e(e.s=s);e.O(0,[63,963,441,684,358],()=>s(7481)),_N_E=e.O()}]);